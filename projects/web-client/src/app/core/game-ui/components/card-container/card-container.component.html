<div class="card-outer glow" [class.active]="active || card.isHighlighted"></div>
<div class="card-outer stroke" [class.active]="active || card.isHighlighted"></div>

<svg class="card-bg">
  <path class="outer-2"
    d="m 109.73657,7.4060166 c -63.337109,0 -93.302308,15.6207474 -93.302308,15.6207474 l 5.17e-4,9.89396 c -4.778816,1.333994 -9.1296758,2.578125 -9.1296758,2.578125 l 0.071313,277.394551 8.6170458,0.80253 -0.156063,9.21908 c 29.938435,5.74309 52.323066,9.51502 93.868171,17.00361 v 0.008 c 0.009,-0.002 0.0138,-0.002 0.0232,-0.004 0.007,0.001 0.0101,0.002 0.0171,0.003 0,-0.48438 36.52126,-6.00896 93.86817,-17.00982 l -0.15607,-9.21907 8.61705,-0.80254 0.0713,-277.394551 c 0,0 -4.35137,-1.244131 -9.13019,-2.578125 l 0.001,-9.894473 C 173.92773,10.017391 141.10528,8.1725393 109.73657,7.4060166 Z" />
  <path class="outer-1"
    d="m 109.73597,12.651238 c -59.843938,0 -88.156496,15.127943 -88.156496,15.127943 l 4.88e-4,9.581799 c -4.515254,1.291901 -8.626156,2.496785 -8.626156,2.496785 l 0.06738,268.643265 8.141798,0.77721 -0.147456,8.92823 c 28.28727,5.56191 49.437344,9.21484 88.691152,16.46718 v 0.008 c 0.008,-0.002 0.013,-0.002 0.0219,-0.004 0.007,9.7e-4 0.01,0.002 0.0162,0.003 0,-0.4691 34.50704,-5.81939 88.69115,-16.47319 l -0.14746,-8.92823 8.1418,-0.77722 0.0674,-268.643255 c 0,0 -4.11139,-1.204884 -8.62665,-2.496785 l 9.5e-4,-9.5823 C 170.38686,15.180228 139.37463,13.393578 109.73597,12.651238 Z" />
  <path class="inner"
    d="m 109.73559,17.215191 c -57.598334,0 -84.84848,14.748859 -84.84848,14.748859 l 4.7e-4,9.341676 c -4.345821,1.259534 -8.302465,2.434218 -8.302465,2.434218 l 0.06486,261.382336 7.836281,0.75774 -0.141923,8.7045 c 27.225807,5.42254 47.582237,8.98393 85.363057,16.05454 v 0.008 c 0.008,-0.002 0.0124,-0.002 0.0211,-0.004 0.007,9.4e-4 0.0103,0.002 0.0156,0.003 0,-0.45735 33.21217,-5.67357 85.36306,-16.0604 l -0.14192,-8.70451 7.83629,-0.75774 0.0648,-261.382326 c 0,0 -3.9571,-1.174694 -8.30292,-2.434218 l 9e-4,-9.342166 C 168.11059,19.68081 138.26208,17.93893 109.73559,17.215191 Z" />
</svg>

<div class="card-front">
  <div *ngIf="!hideCost" class="card-cost">
    <div *ngFor="let cost of (cardCost$ | async)">
      <div class="resource-value" 
        [class.major]="cost.isMajor"
        [class.minor]="cost.isMinor"
        [class.move]="cost.isMove">
        {{ cost.value }}
      </div>
    </div>
  </div>
  <div class="card-header">
    <svg viewBox="0 0 200 50">
  
      <text height="100%" width="100%" font-size="20px">
        <textPath class="header-text" href="#textPath" text-anchor="middle" startOffset="50%">
          {{ cardRef.narrative.name | translate }}
        </textPath>
      </text>
    </svg> 
  </div>
  <div class="card-artwork">
    <img [assetDeclaration]="cardRef.uiData.avatar" />
    <svg class="artwork-frame">
      <path fill="black" filter="url(#f1)" d="M 84.464341,0.5192991 C 37.91159,0.9227791 -0.06434976,12.69007 -0.06434976,12.69007 v 115.9834 c 0,0 36.74305176,11.76735 84.52869076,12.17083 47.785629,0.40348 84.528679,-12.17083 84.528679,-12.17083 V 12.69007 c 0,0 -37.97593,-12.5742479 -84.528679,-12.1707709 z m 0,4.841023 C 128.57279,4.9846851 164.55504,16.800909 164.55504,16.800909 V 124.59878 c 0,0 -34.8141,11.78011 -80.090699,11.40447 C 39.187733,135.62761 4.3736222,124.59878 4.3736222,124.59878 V 16.800909 c 0,0 35.9822658,-11.0649499 80.0907188,-11.4405869 z" />
      <path fill="black" filter="url(#f1)" d="m 46.087344,121.78059 -11.416466,11.8669 6.562514,13.63818 c 0,0 18.200412,4.10473 43.328225,3.85166 5.7e-4,-1e-5 8.1e-4,0 0.002,0 25.127823,0.25307 43.328223,-3.85166 43.328223,-3.85166 l 6.56294,-13.63818 -11.41689,-11.8669 c 0,0 -25.340405,4.07258 -38.474273,4.07258 h -0.002 c -13.13387,0 -38.474273,-4.07258 -38.474273,-4.07258 z" />
      <path class="frame" d="M 84.464341,0.5192991 C 37.91159,0.9227791 -0.06434976,12.69007 -0.06434976,12.69007 v 115.9834 c 0,0 36.74305176,11.76735 84.52869076,12.17083 47.785629,0.40348 84.528679,-12.17083 84.528679,-12.17083 V 12.69007 c 0,0 -37.97593,-12.5742479 -84.528679,-12.1707709 z m 0,4.841023 C 128.57279,4.9846851 164.55504,16.800909 164.55504,16.800909 V 124.59878 c 0,0 -34.8141,11.78011 -80.090699,11.40447 C 39.187733,135.62761 4.3736222,124.59878 4.3736222,124.59878 V 16.800909 c 0,0 35.9822658,-11.0649499 80.0907188,-11.4405869 z" />
     
      <path class="frame-text" d="m 46.087344,121.78059 -11.416466,11.8669 6.562514,13.63818 c 0,0 18.200412,4.10473 43.328225,3.85166 5.7e-4,-1e-5 8.1e-4,0 0.002,0 25.127823,0.25307 43.328223,-3.85166 43.328223,-3.85166 l 6.56294,-13.63818 -11.41689,-11.8669 c 0,0 -25.340405,4.07258 -38.474273,4.07258 h -0.002 c -13.13387,0 -38.474273,-4.07258 -38.474273,-4.07258 z" />
      <path class="frame-text-2" d="m 45.028901,121.78059 -10.88719,11.86697 6.56239,13.63793 c 0,0 18.729483,4.6342 43.857276,4.38113 5.7e-4,-1e-5 8.7e-4,0 0.002,0 25.127803,0.25307 43.857803,-4.38113 43.857803,-4.38113 l 6.56291,-13.63793 -10.88771,-11.86697 c 0,0 -26.399145,3.54317 -39.533003,3.54345 h -0.002 c -13.133862,-2.8e-4 -39.532476,-3.54345 -39.532476,-3.54345 z m 1.88619,3.74189 c 0,0 25.682542,3.18533 37.646796,3.18533 h 0.002 c 11.96425,0 37.646293,-3.18533 37.646293,-3.18533 l 8.28373,8.89609 -5.44928,10.22419 c 0,0 -17.59064,4.00344 -40.480743,3.81372 -10e-4,0 -0.002,-1e-5 -0.002,0 -22.890095,0.18972 -40.481248,-3.81372 -40.481248,-3.81372 l -5.448763,-10.22419 z" />
      
      <text height="100%" width="100%" font-size="8px">
        <textPath class="artwork-text" href="#textPath2" text-anchor="middle" startOffset="50%">
          {{ cardRef.narrative.name | translate }}
        </textPath>
      </text>
    </svg>

  </div>
  <div class="card-description">
    <div><h5>Play:</h5><p>{{ (cardText$ | async)  }}</p></div>
    <div><h5>Discard:</h5><p>{{ (discardText$ | async)  }}</p></div>
  </div>
</div>






<div class="card-back">
  <img src="assets/images/card-back.png"/>
</div>