<div cdkDropListGroup>
  <hero-bar
    [hero]="stateStore.currentState.getHumanPlayerPawn()"
    [items]="(menu$ | async)" 
    (itemSelected)="selectTopBarItem($event)">
  </hero-bar>


  <div class="players-order-wrapper">
  turn: {{ gameplay.turn }}
  round: {{ gameplay.round }}
  currentPlayer: {{ gameplay.currentPlayer.playerType === 0 ? 'Computer': 'Human' }}
  </div>

  <div class="log-wrapper">
    <dungeon-log></dungeon-log>
  </div>

  <div class="left-container">
    <cards-deck [deck]="deck"></cards-deck>
  </div>

  <div class="center-container top">
    <div class="d-flex justify-content-center align-items-center">
      <resources-bar [pawn]="selectedPawn"></resources-bar>
      <ability-controls [commands$]="abilities$" (commandsSelected)="handleSelectedCommands($event)"></ability-controls>
    </div>
  </div>
  <div class="center-container">
    <cards-outlet [deck]="deck"></cards-outlet>
  </div>

  <div class="right-container">
    <turn-controls [pawn]="selectedPawn" [player]="player" [disabled]="!allowInteractions"></turn-controls>
  </div>

  <cards-board [deck]="deck"></cards-board>

  <dungeon-scene>
    <scene-associated-container *ngFor="let a of (actors$ | async)" [relativeTo]="a" [offsetY]="0" [offsetX]="0.5">
      <statistic-change-indicator *ngIf="a.isStatisticBearer" [bearer]="a"></statistic-change-indicator>
      <creature-bar *ngIf="a.isCreature" [creature]="a"></creature-bar>
    </scene-associated-container>
  </dungeon-scene>
</div>